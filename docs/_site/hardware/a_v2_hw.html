<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(4) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(4) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(4) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; } </style> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Atinverter V2 Hardware | Atinverter Docs</title> <meta name="generator" content="Jekyll v4.3.4" /> <meta property="og:title" content="Atinverter V2 Hardware" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="A comprehensive documentation detailing how to use the Atinverter" /> <meta property="og:description" content="A comprehensive documentation detailing how to use the Atinverter" /> <link rel="canonical" href="http://localhost:4000/hardware/a_v2_hw.html" /> <meta property="og:url" content="http://localhost:4000/hardware/a_v2_hw.html" /> <meta property="og:site_name" content="Atinverter Docs" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Atinverter V2 Hardware" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A comprehensive documentation detailing how to use the Atinverter","headline":"Atinverter V2 Hardware","url":"http://localhost:4000/hardware/a_v2_hw.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Atinverter Docs </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Software category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/software/software.html" class="nav-list-link">Software</a><ul class="nav-list"><li class="nav-list-item"><a href="/software/library_setup.html" class="nav-list-link">Atinverter Library Set Up</a></li><li class="nav-list-item"><a href="/software/library_UML.html" class="nav-list-link">Atinverter UML Diagram</a></li><li class="nav-list-item"><a href="/software/VI_AC_Output.html" class="nav-list-link">AC Output V/I Sensing</a></li><li class="nav-list-item"><a href="/software/PWM_control.html" class="nav-list-link">PWM Control</a></li><li class="nav-list-item"><a href="/software/timer2_delay.html" class="nav-list-link">Timer 2 Delay</a></li></ul></li><li class="nav-list-item"><a href="/vision.html" class="nav-list-link">Vision</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Hardware category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/hardware/hardware.html" class="nav-list-link">Hardware</a><ul class="nav-list"><li class="nav-list-item"><a href="/hardware/a_v1_hw.html" class="nav-list-link">Atinverter V1 Hardware</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Atinverter V2 Hardware category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/hardware/a_v2_hw.html" class="nav-list-link">Atinverter V2 Hardware</a><ul class="nav-list"><li class="nav-list-item"><a href="/hardware/buck_conv.html" class="nav-list-link">Buck Converter</a></li><li class="nav-list-item"><a href="/hardware/boost_conv.html" class="nav-list-link">Boost Converter</a></li></ul></li><li class="nav-list-item"><a href="/hardware/ST_HW.html" class="nav-list-link">St. Thomas Inverter Specs</a></li><li class="nav-list-item"><a href="/hardware/power_rating.html" class="nav-list-link">Atinverter V1/2 Power Rating</a></li></ul></li><li class="nav-list-item"><a href="/scratchpad.html" class="nav-list-link">Scratchpad</a></li><li class="nav-list-item"><a href="/todo.html" class="nav-list-link">To-Do</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Atinverter Docs" aria-label="Search Atinverter Docs" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/just-the-docs/just-the-docs-template" class="site-button" > Template Repository </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/hardware/hardware.html">Hardware</a></li> <li class="breadcrumb-nav-list-item"><span>Atinverter V2 Hardware</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h1 id="atinverter-v2-hardware"> <a href="#atinverter-v2-hardware" class="anchor-heading" aria-labelledby="atinverter-v2-hardware"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> <strong>Atinverter V2 Hardware</strong> </h1> <hr /> <p>The <strong>Atinverter Version 2 (V2)</strong> is composed of a multitude of subsystems that work in tandem to support the boardâ€™s main function as a <strong>power inverter</strong>. A power inverter, not to be confused with a digital logic inverter, is a type of converter that takes a DC signal and transforms it to an AC signal.</p> <blockquote class="highlight-yellow"> <p>ğŸ’­ â€œWhy Atinverter?â€</p> </blockquote> <p>With the aim of highlighting the relationship between the ATMEGA328P MCU and the power inverter circuitry, the name is based on: â€œATMEGA328Pâ€ + â€œInverterâ€ = â€œAtinverterâ€</p> <p>To better visualize the core components and the interconnections of the design, consider the following the <strong>high-level block diagram</strong>:</p> <p><img src="../images/atinverter_v2_block_diagram.png" alt="Atinverter V2 Block Diagram" /></p> <h2 id="subsystems-and-extra-circuits"> <a href="#subsystems-and-extra-circuits" class="anchor-heading" aria-labelledby="subsystems-and-extra-circuits"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Subsystems and Extra Circuits </h2> <p>To better understand the full scope of the Atinverter V2, itâ€™s helpful to explore the following subsystems in more detail.</p> <ul> <li>ğŸ”Œ Power Inverter</li> <li>ğŸ’¡ LED Blinking</li> <li>ğŸ“‰ DC Voltage and Current Sensing</li> <li>ğŸ“ˆ AC Voltage and Current Sensing</li> <li>ğŸ” ATMEGA328P &amp; Raspberry Pi IÂ²C Communication</li> </ul> <p class="highlight-green">ğŸ”Œ Power Inverter</p> <h3 id="ï¸-pwm-generation"> <a href="#ï¸-pwm-generation" class="anchor-heading" aria-labelledby="ï¸-pwm-generation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ã€°ï¸ PWM Generation </h3> <p>The power inverter operation is catalyzed by the <strong>PWM generation</strong> from the <strong>ATMEGA328P</strong>. This MCU generates <strong>pulse-width modulated (PWM) square waves</strong> that, when combined with an appropriate switching circuit and filtering stage, can approximate the output of a <strong>pure sine wave power inverter.</strong></p> <p>While there are other simpler approaches that can be employed to achieve inversion, such as square wave or modified square wave inverters, this one achieves higher levels of waveform fidelity. In other words, this modulation technique allows our output waveform to behave and appear more like a real sine wave.</p> <p><img src="../images/different_inverter_waveforms.jpg" alt="Different Types of AC Waveforms Produced by Inverters" /> Source: <a href="https://www.e-education.psu.edu/eme812/node/711">Different Types of AC signals Produced by Inverters</a></p> <h3 id="-gate-drivers"> <a href="#-gate-drivers" class="anchor-heading" aria-labelledby="-gate-drivers"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ§  Gate Drivers </h3> <p>The next stage in the power signal chain is the gate driver circuit. It performs two main tasks:</p> <ol> <li>Effectively level shifts the low voltage PWM signals from the ATMEGA328P into higher voltages required by the H-bridge circuit.</li> <li>Enhance the current delivery to the power transistors to swiftly charge and discharge the gate capacitance of the transistors to ensure rapid switching of the devices.</li> </ol> <h3 id="-h-bridge-topology"> <a href="#-h-bridge-topology" class="anchor-heading" aria-labelledby="-h-bridge-topology"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ” H-Bridge Topology </h3> <p>Being composed of <strong>4 power transistors</strong> that complimentarily <strong>switch at a specific frequency</strong>, the H-bridge topology is a conventional design that is widely implemented in many pure sine wave inverters. This design <strong>enables the connected load to experience a positive and negative voltage swing</strong> solely based on switching states, effectively eliminating the need for a negative supply rail. This dual-polarity effect is what allows for the production of a full AC swing across the load and is achieved by PWM control signals as well as only one DC supply.</p> <h3 id="-lc-filter"> <a href="#-lc-filter" class="anchor-heading" aria-labelledby="-lc-filter"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ”‰ LC Filter </h3> <p>Prior to the delivering the power to the load, a low pass filter stage is employed to:</p> <ol> <li>Remove high frequency content, especially the switching frequency of the PWM signals.</li> <li>Preserve the fundamental frequency of interest. In our case, our PWM-based inverter is designed for 50 or 60Hz.</li> </ol> <h3 id="-power-inverter-summary"> <a href="#-power-inverter-summary" class="anchor-heading" aria-labelledby="-power-inverter-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> ğŸ§© Power Inverter Summary </h3> <p>After providing an overview of each of the power inverter stages, from PWM generation to filtering, consider the diagram below illustrating the signal chain:</p> <p><img src="../images/pwm_generation_block_diagram.png" alt="Atinverter V2 Inverter Only Block Diagram" /></p> <p>To clarify subtle details about the diagram, DP5 and DP6 represent the digital pins 5 and 6 respectively. Also, two gate drivers were implemented into the design since each controls one pair of transistors.</p> <p class="highlight-green">ğŸ’¡ LED Blinking</p> <p>The LED circuit is effectively <strong>four LEDs</strong> that are independently controlled using <strong>four different GPIO pins</strong> of the ATMEGA328P.</p> <p>These LEDs are cycled on and off using a blink program providing a trivial aesthetic effect, but its primary purpose is a <strong>functional verfication</strong> of ATMEGA328P. Using a visual indictator allows us to determine if the MCU is bootloaded, which is a necessary step when working with a <strong>brand-new chip</strong>.</p> <p><img src="../images/LEDs_diagram.png" alt="LEDs Diagram" /></p> <hr> <h2 class="text-delta">Table of contents</h2> <ul> <li> <a href="/hardware/buck_conv.html">Buck Converter</a> </li> <li> <a href="/hardware/boost_conv.html">Boost Converter</a> </li> </ul> </main> </div> </div> <div class="search-overlay"></div> </div> <script type="module"> import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11.4.0/dist/mermaid.esm.min.mjs'; var config = {} ; mermaid.initialize(config); mermaid.run({ querySelector: '.language-mermaid', }); </script> </body> </html>
